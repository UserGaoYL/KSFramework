游戏里出现文字，包括代码中用到文字，UI上的文本，全部从语言包读取，而不写在代码或UI中，这样做有以下几点好处：

1. 方便策划调整文字，而不需要找技术修改
2. 当项目大到一定程度时，直接改语言包就可以，减少打开UI或查找代码的时间
3. 方便的提供给翻译员翻译成其它语言（外包翻译服务是按字收费）



语言包放在SettingSource\I18N\下，每增加一种语言则增加一个**lang--语言.txt**，默认是lang.txt(中文)

语言包的配置格式为key=value，#开头为注释行，示例如下：

```json
#格式：key=value
#下载和更新
download_title_tips=资源更新
```



### UI编辑器中使用多语言

在KSFramework中的文本多语言和正常操作一样，通过Unity的菜单创建一个Text，你的使用习惯不需要改变。

当我们在KSFramework中创建Text时，它有一个使用语言包的勾选框，默认是勾选的，然后就可以输入语言包中的id，文字就从语言包读取到文本中了。

常见的语言包有这几种情况

1. 输入lang.txt中的id，就会读取到Text上，示例语言包：`common_ok=确定`

![输入语言包](../images/setting/i18n_normal.png)

2. 如果这条文本有参数，则填上参数个数，参数会填充到占位符上，示例语言包：`text_datetime=后面是一个占位符:{0}`

![输入语言包](../images/setting/i18n_format.png)

3. 如果语言包id输入错误或者不存在，则会有提示

![输入语言包](../images/setting/i18n_not_find_langid.png)

## 代码中使用多语言

在C#中的占位符是{0}，而lua中是%s或%d来占位(当然lua也可以全部使用%s来占位)。

建议在配置表中使用占位符时，如果该表是C#中用就使用{0}{1}，而如果只在lua中读取的表，就使用%s来代表占位。

```c#
gameobject.GetComponent<MyText>().SetText(I18N.Get("common_ok"));
```



## 配置表多语言

配置表多语言有两种做法，项目可根据自己实际情况来选择：

1. 所有语言都使用同一份配置表，通过配置表条件编译，为每个需要翻译的字段增加一列
2. 每个语言都有一份配置表，里面的差异就是要翻译的字段内容不同，或者进行小范围的数值调整，如果某表不需要翻译则可以不提供，会读取默认名字的配置表